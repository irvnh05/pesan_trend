
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.16/dist/tailwind.min.css" rel="stylesheet">
<style>
	.barcode {
		left: 50%;
		box-shadow: 1px 0 0 1px, 5px 0 0 1px, 10px 0 0 1px, 11px 0 0 1px, 15px 0 0 1px, 18px 0 0 1px, 22px 0 0 1px, 23px 0 0 1px, 26px 0 0 1px, 30px 0 0 1px, 35px 0 0 1px, 37px 0 0 1px, 41px 0 0 1px, 44px 0 0 1px, 47px 0 0 1px, 51px 0 0 1px, 56px 0 0 1px, 59px 0 0 1px, 64px 0 0 1px, 68px 0 0 1px, 72px 0 0 1px, 74px 0 0 1px, 77px 0 0 1px, 81px 0 0 1px, 85px 0 0 1px, 88px 0 0 1px, 92px 0 0 1px, 95px 0 0 1px, 96px 0 0 1px, 97px 0 0 1px, 101px 0 0 1px, 105px 0 0 1px, 109px 0 0 1px, 110px 0 0 1px, 113px 0 0 1px, 116px 0 0 1px, 120px 0 0 1px, 123px 0 0 1px, 127px 0 0 1px, 130px 0 0 1px, 131px 0 0 1px, 134px 0 0 1px, 135px 0 0 1px, 138px 0 0 1px, 141px 0 0 1px, 144px 0 0 1px, 147px 0 0 1px, 148px 0 0 1px, 151px 0 0 1px, 155px 0 0 1px, 158px 0 0 1px, 162px 0 0 1px, 165px 0 0 1px, 168px 0 0 1px, 173px 0 0 1px, 176px 0 0 1px, 177px 0 0 1px, 180px 0 0 1px;
		display: inline-block;
		transform: translateX(-90px);
	}
</style>
<div class="flex flex-col items-center justify-center min-h-screen bg-center bg-cover"
                                    style="background-image: url(https://pesantrend.id/wp-content/uploads/2022/12/ACE07236-bw-.jpg);">
                                    <div class="absolute  opacity-80 inset-0 z-0" style="background-color: #6b4a1f83;"></div>
                                    <div class="max-w-md w-full h-full mx-auto z-10  rounded-3xl" style="background-color: #6B4A1F;">
                                        <div class="flex flex-col">
                                            <div class="bg-white relative drop-shadow-2xl  rounded-3xl p-4 m-4" style="">
                                                <div class="flex-none sm:flex">
                                                    <div class=" relative h-32 w-32   sm:mb-0 mb-3 hidden">
                                                        <img src="https://tailwindcomponents.com/storage/avatars/njkIbPhyZCftc4g9XbMWwVsa7aGVPajYLRXhEeoo.jpg" alt="aji" class=" w-32 h-32 object-cover rounded-2xl">
                                                        <a href="#"
                                                            class="absolute -right-2 bottom-2   -ml-3  text-white p-1 text-xs bg-green-400 hover:bg-green-500 font-medium tracking-wider rounded-full transition ease-in duration-300">
                                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
                                                                class="h-4 w-4">
                                                                <path
                                                                    d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z">
                                                                </path>
                                                            </svg>
                                                        </a>
                                                    </div>
                                                    <div class="flex-auto justify-evenly">
                                                        <div class="flex items-center justify-between">
                                                            <div class="flex items-center  my-1">
                                                                <span class="mr-3 rounded-full bg-white w-8 h-8">
                                    <img src="http://pesan_trend.test/landing-page/assets/img/logo-brown.png" class="h-8 p-1">
                                </span>
								<h2 class="font-medium">Nama Pemesan</h2>
								{{-- <p class="text-red-500 text-xs ml-1">  (Pending)</p> --}}
							</div>
							<div class="ml-auto text-blue-800">No tiket</div>
						</div>
						<div class="border-b border-dashed border-b-2 my-5"></div>
						<div class="flex items-center">
							</div>
							<div class="mb-4 px-5">
								<div class="flex items-center pl-5">
									<label for="transactionNo" class="mr-2 text-gray-900">No Transaksi:</label>
									<div class="relative">
									  <input type="text" id="transactionNo" class="w-full px-3 py-2 rounded-l-md border-gray-900 shadow-sm focus:ring-indigo-500 focus:border-indigo-900 sm:text-sm bg-gray-100 text-gray-900 placeholder-gray-500" name="transactionNo" required autofocus placeholder="Masukkan No Transaksi" />
									  <span class="input-group-addon absolute inset-y-0 right-0 flex items-center pr-2">
										<i class="fa fa-credit-card text-gray-600"></i>
									  </span>
									</div>
									
								</div>
				
							</div>
							
	
                            <div class="border-b border-dashed border-b-2 my-5"></div>
							<div class="flex flex-col  justify-center text-sm ">
								<div class="flex justify-center space-x-2">
									<img src="https://pemudahijrah.id/wp-content/uploads/2023/03/cropped-cropped-Asset-6@4x-100x66.png" class="w-10 p-1">
									<img src="https://pemudahijrah.id/wp-content/uploads/2023/01/logo-program-raheela2-360px.png" class="w-10 p-1">
									<img src="https://pemudahijrah.id/wp-content/uploads/2023/03/logo-program-20mind-360px.png" class="w-10 p-1">
									{{-- <img src="https://pemudahijrah.id/wp-content/uploads/2023/03/logo-program-20mind-360px.png" class="w-10 p-1"> --}}
									<img src="https://pemudahijrah.id/wp-content/uploads/2022/11/logo-program-sri-360px.png" class="w-10 p-1">
									<img src="https://pemudahijrah.id/wp-content/uploads/2022/11/logo-program-pesantrend-360px.png" class="w-10 p-1">
									<img src="https://pemudahijrah.id/wp-content/uploads/2022/11/logo-program-shiftcare-360px.png" class="w-10 p-1">
									<img src="https://pemudahijrah.id/wp-content/uploads/2022/11/logo-program-shiftmedia-360px.png" class="w-10 p-1">
									<img src="https://pemudahijrah.id/wp-content/uploads/2023/01/logo-program-shiftfarm-360px.png" class="w-10 p-1">
								</div>
								<div class="border-b border-dashed border-b-2 my-5"></div>
                                <a href="/" class=" block  text-white text-center font-semibold py-3 px-4 rounded" style="background-color: #6B4A1F;">
                                    Konfirmasi 
                                </a>
								<a  id="scanButton" class=" block  text-center font-semibold py-3 px-4 rounded my-2" style="background-color: #6b4a1f31; text-color: #6B4A1F">
                                    Scan QR (No Transaksi)
                                </a>
								<!-- Pop-up untuk Pemindaian QR-code -->
								<div id="scanPopup" class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 hidden">
									<div class="bg-white p-4 rounded-lg">
									  <video id="qrVideo" class="w-full"></video>
									  <div class="flex justify-center mt-4">
										<button id="closeButton" class="px-4 py-2 bg-red-500 text-white rounded-lg mr-2"style="background-color: #6B4A1F;">Tutup</button>
										<button id="switchCameraButton" class="px-4 py-2 font-semibold rounded-lg" style="background-color: #6b4a1f31; text-color: #6B4A1F">Ganti Kamera</button>
									  </div>
									</div>
								</div>
								  
								  
								  <!-- Script untuk Pemindaian QR-code -->
								  <script src="https://unpkg.com/@zxing/library@latest"></script>
								  <script type="text/javascript">
									// Tindakan klik pada tombol "Scan"
									document.getElementById('scanButton').addEventListener('click', function() {
									  // Menampilkan pop-up pemindaian QR-code
									  document.getElementById('scanPopup').classList.remove('hidden');
								  
									  // Memeriksa dukungan peramban untuk getUserMedia
									  var getUserMedia = (navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia);
								  
									  if (getUserMedia) {
										getUserMedia.call(navigator, { video: true },
										  function(stream) {
											// Membuat elemen video dan mengatur aliran video
											var videoElement = document.getElementById('qrVideo');
											videoElement.srcObject = stream;
											videoElement.play();
								  
											// Mendeteksi pemindaian QR-code
											var codeReader = new ZXing.BrowserMultiFormatReader();
											codeReader.decodeFromVideoElement(videoElement, function(result, err) {
											  if (result) {
												// Mengisi nomor transaksi dari hasil pemindaian ke input
												document.getElementById('transactionNo').value = result.text;
												
												// Menghentikan pemindaian QR-code
												codeReader.reset();
												videoElement.srcObject.getTracks().forEach(function(track) {
												  track.stop();
												});
								  
												// Menutup pop-up pemindaian QR-code
												closeScanPopup();
											  } else {
												console.error(err);
											  }
											});
										  },
										  function(err) {
											console.error('Kamera tidak tersedia: ', err);
										  }
										);
									  } else {
										alert("tidak didukung pada peramban ini")
										console.error('getUserMedia tidak didukung pada peramban ini.');
									  }
								  
									  // Tindakan klik pada tombol "Tutup"
									//   <!-- Tindakan klik pada tombol "Tutup" -->
										document.getElementById('closeButton').addEventListener('click', function() {
										// Menghentikan pemutaran video
										var videoElement = document.getElementById('qrVideo');
										videoElement.pause();

										// Menghentikan aliran kamera saat ini
										var stream = videoElement.srcObject;
										var tracks = stream.getTracks();
										tracks.forEach(function(track) {
											track.stop();
										});

										// Menutup pop-up pemindaian QR-code
										closeScanPopup();
										});

										// Fungsi untuk menutup pop-up pemindaian QR-code
										function closeScanPopup() {
										document.getElementById('scanPopup').classList.add('hidden');
										}

									  
									  // Tindakan klik pada tombol "Ganti Kamera"
									  document.getElementById('switchCameraButton').addEventListener('click', function() {
										// Mendapatkan kamera saat ini
										var videoElement = document.getElementById('qrVideo');
										var currentStream = videoElement.srcObject;
								  
										// Menghentikan pemutaran video
										videoElement.pause();
								  
										// Menghentikan aliran kamera saat ini
										currentStream.getTracks().forEach(function(track) {
										  track.stop();
										});
								  
										// Mendapatkan daftar kamera yang tersedia
										navigator.mediaDevices.enumerateDevices()
										  .then(function(devices) {
											var videoDevices = devices.filter(function(device) {
											  return device.kind === 'videoinput';
											});
								  
											// Memilih kamera berikutnya dalam daftar
											var currentDeviceId = videoDevices.find(function(device) {
											  return device.label === videoElement.label;
											});
											var nextDeviceId = videoDevices[(videoDevices.indexOf(currentDeviceId) + 1) % videoDevices.length].deviceId;
								  
											// Mengganti sumber aliran video dengan kamera berikutnya
											navigator.mediaDevices.getUserMedia({ video: { deviceId: nextDeviceId } })
											  .then(function(stream) {
												videoElement.srcObject = stream;
												videoElement.play();
											  })
											  .catch(function(error) {
												console.error('Gagal mengganti kamera: ', error);
											  });
										  })
										  .catch(function(error) {
											console.error('Gagal mendapatkan daftar kamera: ', error);
										  });
									  });
								  
									  // Fungsi untuk menutup pop-up pemindaian QR-code
									  function closeScanPopup() {
										document.getElementById('scanPopup').classList.add('hidden');
									  }
									});
								  </script>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>
</div>
